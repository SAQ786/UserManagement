<div class="container-fluid conStyle"> 
    <h1>Registered User's</h1>
    <div class="row">
        <div class="col-6">
            <input type="button" class="btn btn-primary btnStyle" value="+ Add New User" (click)="openDialog(template2)">
        </div>
        <div class="col-6 log">
            <input type="button" class="btn btn-primary btnStyle2 " value="See all user Location" (click)="seeMap()">
        </div>
    </div>


    <!-- <table class="table table-striped table-bordered">
        <thead>
            <tr>
                <th>Id</th>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Email</th>
                <th>Phone</th>
                <th>Is User Admin</th>
                <th>Password</th>
                <th>Actions</th>
                
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let i of userArray" [ngClass]="{red: i.check == true, black: i.check == false}">
                <td>{{i.id}}</td>
                <td>{{i.firstName}} </td>
                <td>{{i.lastName}}</td>
                <td>{{i.email}}</td>
                <td>{{i.phone}}</td>
                <td >{{i.check}}</td>
                <td >{{i.password}}</td>
                <td>
                    <button type="button" class="btn btn-primary" id="edit_button1" value="Edit"  (click)="edit(i.id)">
                        <i class="fa-solid fa-circle-trash">Edit</i>
                    </button>
                    <button type="button" class="btn btn-primary" id="edit_button1" value="Delete"  (click)="delete(i.id)">
                        <i class="fa-solid fa-pen-to-square">Delete</i>
                    </button>
                    
                </td>
            </tr>
        </tbody> 
    </table>-->


    <table class="table table-striped table-bordered">
        <thead>
            <tr>
                <th>Id</th>
                <th>Name</th>
                <th>User Name</th>
                <th>Email</th>
                <th>Address</th>
                <th>Phone</th>
                <th>Website</th>
                <th>Company</th>
                <th>Actions</th>
                
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let i of data" >
                <td>{{i.id}}</td>
                <td>{{i.name}} </td>
                <td>{{i.username}}</td>
                <td>{{i.email}}</td>
                <td>{{i.address}},</td>
                <td >{{i.phone}}</td>
                <td>{{i.website}}</td>
                <td >{{i.company}}</td>
                <td>
                    <div class="row">
                            <div class="col-sm-4">
                                <button type="button" class="btn  btnStyle1 "  value="Edit"  (click)="edit(i.id)">
                                    <!-- <i class="fa-solid fa-circle-trash">Edit</i> -->Edit
                                </button>
                            </div>
                        <div class="col-sm-4">
                            <button type="button"  class="btn  btnStyle1" data-toggle="modal" (click)="openModalWithClass(template)" value="Delete" >
                                <!-- <i class="fa-solid fa-pen-to-square">Delete</i> -->Delete
                            </button>
                        
                            <ng-template #template >  
                                <div class="modelStyle">
                                <div class="modal-header">  
                                    <h2 class="modal-title pull-left" >Delete User</h2>  
                                    <button type="button" class="close " aria-label="Close" (click)="modalRef.hide()">  
                                    <span aria-hidden="true">×</span>  
                                    </button>  
                                </div>  
                                <div class="modal-body">  
                                    <p class="text-danger" style="font-size:xx-large; font-family: 'Times New Roman', Times, serif; align-content: center;">Are you sure?</p>
                                </div>  
                                <div class="modal-footer">  
                                    <button type="button" class="btn btn-default" (click)="delete(i.id)">Yes I am sure.</button> 
                                    <button type="button" class="btn btn-default" (click)="modalRef.hide()">Close</button>  
                                </div>  
                                </div>
                            </ng-template>  
                        </div>
                        <div class="col-sm-4">
                            <button [disabled]="!i.location.latitude "class="btn btnStyle1" data-toggle="modal" (click)="openModalWithClass(template3)">See Location</button> 
                            <ng-template #template3 >  
                                <div class="modelStyle">
                                <div class="modal-header">  
                                    <h2 class="modal-title pull-left" >User Location</h2>  
                                    <button type="button" class="close " aria-label="Close" (click)="modalRef.hide()">  
                                    <span aria-hidden="true">×</span>  
                                    </button>  
                                </div>  
                                <div class="modal-body">  
                                   <agm-map [latitude]="i.location.latitude" [longitude]="i.location.longitude">
                                       <agm-marker [latitude]="i.location.latitude" [longitude]="i.location.longitude">
                                        <agm-info-window [isOpen]="true">
                                            <p class="para">{{i.name}}</p>
                                            <p class="para">Phone:{{i.phone}}, Address:{{i.address}}</p>
                                            </agm-info-window>
                                       </agm-marker>
                                   </agm-map>
                                </div>  
                                
                                </div>
                            </ng-template> 
                        </div>

                     </div>
                
                    
                </td>
            </tr>
        </tbody>
        </table>

    <div class="row">
    <div class="col-6 reg" >
    <button class="btn btn-success" (click)="onClick()">Back to Registration Page</button>
    </div>
    <div class="col-6 log" ><button class="btn btn-success" (click)="onLogin()">Back to Login Page</button></div></div>


  
  <!-- Modal -->
  
    
</div>
<!--model for Add user -->
<ng-template #template2 >  
    <div class="modelStyle">
    <div class="modal-header">  
        <h2 class="modal-title pull-left" >Add User</h2>  
        <button type="button" class="close " aria-label="Close" (click)="modalRef.hide()">  
        <span aria-hidden="true">×</span>  
        </button>  
    </div>  
    <div class="modal-body">  
        <app-first *ngIf="setNewAction" [newAction]='setNewAction'  (setAc)="getAction($event)" (addUser)="getEvent($event)"> 
        </app-first> 
        
    </div> 
    </div>
</ng-template> 
<!--model for All user location--> 
<ng-template #template4 >  
    <div class="modelStyle">
    <div class="modal-header">  
        <h2 class="modal-title pull-left" >Locations</h2>  
        <button type="button" class="close " aria-label="Close" (click)="modalRef.hide()">  
        <span aria-hidden="true">×</span>  
        </button>  
    </div>  
    <div class="modal-body">  
        
            
        
    </div> 
    </div>
</ng-template> 
 